{"remainingRequest":"F:\\28开始联调\\前端代码\\dianshang-fe-by-Dell\\node_modules\\babel-loader\\lib\\index.js!F:\\28开始联调\\前端代码\\dianshang-fe-by-Dell\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\28开始联调\\前端代码\\dianshang-fe-by-Dell\\src\\store\\index.js","dependencies":[{"path":"F:\\28开始联调\\前端代码\\dianshang-fe-by-Dell\\src\\store\\index.js","mtime":1607768667000},{"path":"F:\\28开始联调\\前端代码\\dianshang-fe-by-Dell\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\28开始联调\\前端代码\\dianshang-fe-by-Dell\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\28开始联调\\前端代码\\dianshang-fe-by-Dell\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJGOi8yOFx1NUYwMFx1NTlDQlx1ODA1NFx1OEMwMy9cdTUyNERcdTdBRUZcdTRFRTNcdTc4MDEvZGlhbnNoYW5nLWZlLWJ5LURlbGwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7Cgp2YXIgc2V0TG9jYWxDYXJ0TGlzdCA9IGZ1bmN0aW9uIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpIHsKICB2YXIgY2FydExpc3QgPSBzdGF0ZS5jYXJ0TGlzdDsKICB2YXIgY2FydExpc3RTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShjYXJ0TGlzdCk7CiAgbG9jYWxTdG9yYWdlLmNhcnRMaXN0ID0gY2FydExpc3RTdHJpbmc7Cn07Cgp2YXIgZ2V0TG9jYUNhcnRMaXN0ID0gZnVuY3Rpb24gZ2V0TG9jYUNhcnRMaXN0KCkgewogIC8vIHsgc2hvcElkOiB7c2hvcE5hbWU6JycsIHByb2R1Y3RMaXN0OnsgcHJvZHVjdElkOiB7fSB9fX0KICB0cnkgewogICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmNhcnRMaXN0KTsKICB9IGNhdGNoIChlKSB7CiAgICByZXR1cm4ge307CiAgfQp9OwoKZXhwb3J0IGRlZmF1bHQgVnVleC5jcmVhdGVTdG9yZSh7CiAgc3RhdGU6IHsKICAgIGNhcnRMaXN0OiBnZXRMb2NhQ2FydExpc3QoKSwKICAgIGFkZHJlc3NMaXN0OiBbXQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBjaGFuZ2VDYXJ0SXRlbUluZm86IGZ1bmN0aW9uIGNoYW5nZUNhcnRJdGVtSW5mbyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICB2YXIgc2hvcElkID0gcGF5bG9hZC5zaG9wSWQsCiAgICAgICAgICBwcm9kdWN0SWQgPSBwYXlsb2FkLnByb2R1Y3RJZCwKICAgICAgICAgIHByb2R1Y3RJbmZvID0gcGF5bG9hZC5wcm9kdWN0SW5mbzsKICAgICAgdmFyIHNob3BJbmZvID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXSB8fCB7CiAgICAgICAgc2hvcE5hbWU6ICcnLAogICAgICAgIHByb2R1Y3RMaXN0OiB7fQogICAgICB9OwogICAgICB2YXIgcHJvZHVjdCA9IHNob3BJbmZvLnByb2R1Y3RMaXN0W3Byb2R1Y3RJZF07CgogICAgICBpZiAoIXByb2R1Y3QpIHsKICAgICAgICBwcm9kdWN0SW5mby5jb3VudCA9IDA7CiAgICAgICAgcHJvZHVjdCA9IHByb2R1Y3RJbmZvOwogICAgICB9CgogICAgICBwcm9kdWN0LmNvdW50ID0gcHJvZHVjdC5jb3VudCArIHBheWxvYWQubnVtOwoKICAgICAgaWYgKHBheWxvYWQubnVtID4gMCkgewogICAgICAgIHByb2R1Y3QuY2hlY2sgPSB0cnVlOwogICAgICB9CgogICAgICBpZiAocHJvZHVjdC5jb3VudCA8IDApIHsKICAgICAgICBwcm9kdWN0LmNvdW50ID0gMDsKICAgICAgfQoKICAgICAgc2hvcEluZm8ucHJvZHVjdExpc3RbcHJvZHVjdElkXSA9IHByb2R1Y3Q7CiAgICAgIHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0gPSBzaG9wSW5mbzsKICAgICAgc2V0TG9jYWxDYXJ0TGlzdChzdGF0ZSk7CiAgICB9LAogICAgY2hhbmdlU2hvcE5hbWU6IGZ1bmN0aW9uIGNoYW5nZVNob3BOYW1lKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZCwKICAgICAgICAgIHNob3BOYW1lID0gcGF5bG9hZC5zaG9wTmFtZTsKICAgICAgdmFyIHNob3BJbmZvID0gc3RhdGUuY2FydExpc3Rbc2hvcElkXSB8fCB7CiAgICAgICAgc2hvcE5hbWU6ICcnLAogICAgICAgIHByb2R1Y3RMaXN0OiB7fQogICAgICB9OwogICAgICBzaG9wSW5mby5zaG9wTmFtZSA9IHNob3BOYW1lOwogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdID0gc2hvcEluZm87CiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIGNoYW5nZUNhcnRJdGVtQ2hlY2tlZDogZnVuY3Rpb24gY2hhbmdlQ2FydEl0ZW1DaGVja2VkKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIHZhciBzaG9wSWQgPSBwYXlsb2FkLnNob3BJZCwKICAgICAgICAgIHByb2R1Y3RJZCA9IHBheWxvYWQucHJvZHVjdElkOwogICAgICB2YXIgcHJvZHVjdCA9IHN0YXRlLmNhcnRMaXN0W3Nob3BJZF0ucHJvZHVjdExpc3RbcHJvZHVjdElkXTsKICAgICAgcHJvZHVjdC5jaGVjayA9ICFwcm9kdWN0LmNoZWNrOwogICAgICBzZXRMb2NhbENhcnRMaXN0KHN0YXRlKTsKICAgIH0sCiAgICBjbGVhbkNhcnRQcm9kdWN0czogZnVuY3Rpb24gY2xlYW5DYXJ0UHJvZHVjdHMoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkOwogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdLnByb2R1Y3RMaXN0ID0ge307CiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIHNldENhcnRJdGVtc0NoZWNrZWQ6IGZ1bmN0aW9uIHNldENhcnRJdGVtc0NoZWNrZWQoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgdmFyIHNob3BJZCA9IHBheWxvYWQuc2hvcElkOwogICAgICB2YXIgcHJvZHVjdHMgPSBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdLnByb2R1Y3RMaXN0OwoKICAgICAgaWYgKHByb2R1Y3RzKSB7CiAgICAgICAgZm9yICh2YXIga2V5IGluIHByb2R1Y3RzKSB7CiAgICAgICAgICB2YXIgcHJvZHVjdCA9IHByb2R1Y3RzW2tleV07CiAgICAgICAgICBwcm9kdWN0LmNoZWNrID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHNldExvY2FsQ2FydExpc3Qoc3RhdGUpOwogICAgfSwKICAgIGNsZWFyQ2FydERhdGE6IGZ1bmN0aW9uIGNsZWFyQ2FydERhdGEoc3RhdGUsIHNob3BJZCkgewogICAgICBzdGF0ZS5jYXJ0TGlzdFtzaG9wSWRdLnByb2R1Y3RMaXN0ID0ge307CiAgICB9LAogICAgY2hhbmdlQWRkcmVzc0xpc3Q6IGZ1bmN0aW9uIGNoYW5nZUFkZHJlc3NMaXN0KHN0YXRlLCBhZGRyZXNzTGlzdCkgewogICAgICB2YXIgX3N0YXRlJGFkZHJlc3NMaXN0OwoKICAgICAgKF9zdGF0ZSRhZGRyZXNzTGlzdCA9IHN0YXRlLmFkZHJlc3NMaXN0KS5zcGxpY2UuYXBwbHkoX3N0YXRlJGFkZHJlc3NMaXN0LCBbMCwgc3RhdGUuYWRkcmVzc0xpc3QubGVuZ3RoXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGFkZHJlc3NMaXN0KSkpOwogICAgfQogIH0KfSk7"},{"version":3,"sources":["F:/28开始联调/前端代码/dianshang-fe-by-Dell/src/store/index.js"],"names":["Vuex","setLocalCartList","state","cartList","cartListString","JSON","stringify","localStorage","getLocaCartList","parse","e","createStore","addressList","mutations","changeCartItemInfo","payload","shopId","productId","productInfo","shopInfo","shopName","productList","product","count","num","check","changeShopName","changeCartItemChecked","cleanCartProducts","setCartItemsChecked","products","key","clearCartData","changeAddressList","splice","length"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,MAAjB;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD,EAAW;AAAA,MAC1BC,QAD0B,GACbD,KADa,CAC1BC,QAD0B;AAElC,MAAMC,cAAc,GAAGC,IAAI,CAACC,SAAL,CAAeH,QAAf,CAAvB;AACAI,EAAAA,YAAY,CAACJ,QAAb,GAAwBC,cAAxB;AACD,CAJD;;AAMA,IAAMI,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B;AACA,MAAI;AACF,WAAOH,IAAI,CAACI,KAAL,CAAWF,YAAY,CAACJ,QAAxB,CAAP;AACD,GAFD,CAEE,OAAMO,CAAN,EAAS;AACT,WAAO,EAAP;AACD;AACF,CAPD;;AASA,eAAeV,IAAI,CAACW,WAAL,CAAiB;AAC9BT,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAEK,eAAe,EADpB;AAELI,IAAAA,WAAW,EAAE;AAFR,GADuB;AAK9BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,kBADS,8BACUZ,KADV,EACiBa,OADjB,EAC0B;AAAA,UACzBC,MADyB,GACUD,OADV,CACzBC,MADyB;AAAA,UACjBC,SADiB,GACUF,OADV,CACjBE,SADiB;AAAA,UACNC,WADM,GACUH,OADV,CACNG,WADM;AAEjC,UAAIC,QAAQ,GAAGjB,KAAK,CAACC,QAAN,CAAea,MAAf,KAA0B;AACvCI,QAAAA,QAAQ,EAAE,EAD6B;AACzBC,QAAAA,WAAW,EAAC;AADa,OAAzC;AAGA,UAAIC,OAAO,GAAGH,QAAQ,CAACE,WAAT,CAAqBJ,SAArB,CAAd;;AACA,UAAG,CAACK,OAAJ,EAAa;AACXJ,QAAAA,WAAW,CAACK,KAAZ,GAAoB,CAApB;AACAD,QAAAA,OAAO,GAAGJ,WAAV;AACD;;AACDI,MAAAA,OAAO,CAACC,KAAR,GAAgBD,OAAO,CAACC,KAAR,GAAgBR,OAAO,CAACS,GAAxC;;AACA,UAAGT,OAAO,CAACS,GAAR,GAAc,CAAjB,EAAoB;AAAEF,QAAAA,OAAO,CAACG,KAAR,GAAgB,IAAhB;AAAsB;;AAC5C,UAAGH,OAAO,CAACC,KAAR,GAAgB,CAAnB,EAAsB;AAAED,QAAAA,OAAO,CAACC,KAAR,GAAgB,CAAhB;AAAmB;;AAC3CJ,MAAAA,QAAQ,CAACE,WAAT,CAAqBJ,SAArB,IAAkCK,OAAlC;AACApB,MAAAA,KAAK,CAACC,QAAN,CAAea,MAAf,IAAyBG,QAAzB;AACAlB,MAAAA,gBAAgB,CAACC,KAAD,CAAhB;AACD,KAjBQ;AAkBTwB,IAAAA,cAlBS,0BAkBMxB,KAlBN,EAkBaa,OAlBb,EAkBsB;AAAA,UACrBC,MADqB,GACAD,OADA,CACrBC,MADqB;AAAA,UACbI,QADa,GACAL,OADA,CACbK,QADa;AAE7B,UAAMD,QAAQ,GAAGjB,KAAK,CAACC,QAAN,CAAea,MAAf,KAA0B;AACzCI,QAAAA,QAAQ,EAAE,EAD+B;AAC3BC,QAAAA,WAAW,EAAC;AADe,OAA3C;AAGAF,MAAAA,QAAQ,CAACC,QAAT,GAAoBA,QAApB;AACAlB,MAAAA,KAAK,CAACC,QAAN,CAAea,MAAf,IAAyBG,QAAzB;AACAlB,MAAAA,gBAAgB,CAACC,KAAD,CAAhB;AACD,KA1BQ;AA2BTyB,IAAAA,qBA3BS,iCA2BazB,KA3Bb,EA2BoBa,OA3BpB,EA2B6B;AAAA,UAC5BC,MAD4B,GACND,OADM,CAC5BC,MAD4B;AAAA,UACpBC,SADoB,GACNF,OADM,CACpBE,SADoB;AAEpC,UAAMK,OAAO,GAAGpB,KAAK,CAACC,QAAN,CAAea,MAAf,EAAuBK,WAAvB,CAAmCJ,SAAnC,CAAhB;AACAK,MAAAA,OAAO,CAACG,KAAR,GAAgB,CAACH,OAAO,CAACG,KAAzB;AACAxB,MAAAA,gBAAgB,CAACC,KAAD,CAAhB;AACD,KAhCQ;AAiCT0B,IAAAA,iBAjCS,6BAiCS1B,KAjCT,EAiCgBa,OAjChB,EAiCyB;AAAA,UACxBC,MADwB,GACbD,OADa,CACxBC,MADwB;AAEhCd,MAAAA,KAAK,CAACC,QAAN,CAAea,MAAf,EAAuBK,WAAvB,GAAqC,EAArC;AACApB,MAAAA,gBAAgB,CAACC,KAAD,CAAhB;AACD,KArCQ;AAsCT2B,IAAAA,mBAtCS,+BAsCW3B,KAtCX,EAsCkBa,OAtClB,EAsC2B;AAAA,UAC1BC,MAD0B,GACfD,OADe,CAC1BC,MAD0B;AAElC,UAAMc,QAAQ,GAAG5B,KAAK,CAACC,QAAN,CAAea,MAAf,EAAuBK,WAAxC;;AACA,UAAGS,QAAH,EAAa;AACX,aAAI,IAAIC,GAAR,IAAeD,QAAf,EAAyB;AACvB,cAAMR,OAAO,GAAGQ,QAAQ,CAACC,GAAD,CAAxB;AACAT,UAAAA,OAAO,CAACG,KAAR,GAAgB,IAAhB;AACD;AACF;;AACDxB,MAAAA,gBAAgB,CAACC,KAAD,CAAhB;AACD,KAhDQ;AAiDT8B,IAAAA,aAjDS,yBAiDK9B,KAjDL,EAiDYc,MAjDZ,EAiDoB;AAC3Bd,MAAAA,KAAK,CAACC,QAAN,CAAea,MAAf,EAAuBK,WAAvB,GAAqC,EAArC;AACD,KAnDQ;AAoDTY,IAAAA,iBApDS,6BAoDS/B,KApDT,EAoDgBU,WApDhB,EAoD6B;AAAA;;AACpC,4BAAAV,KAAK,CAACU,WAAN,EAAkBsB,MAAlB,4BAAyB,CAAzB,EAA4BhC,KAAK,CAACU,WAAN,CAAkBuB,MAA9C,4BAAyDvB,WAAzD;AACD;AAtDQ;AALmB,CAAjB,CAAf","sourcesContent":["import Vuex from 'vuex'\n\nconst setLocalCartList = (state) => {\n  const { cartList } = state\n  const cartListString = JSON.stringify(cartList)\n  localStorage.cartList = cartListString\n}\n\nconst getLocaCartList = () => {\n  // { shopId: {shopName:'', productList:{ productId: {} }}}\n  try {\n    return JSON.parse(localStorage.cartList);\n  } catch(e) {\n    return {}\n  }\n}\n\nexport default Vuex.createStore({\n  state: {\n    cartList: getLocaCartList(),\n    addressList: [],\n  },\n  mutations: {\n    changeCartItemInfo(state, payload) {\n      const { shopId, productId, productInfo } = payload\n      let shopInfo = state.cartList[shopId] || {\n        shopName: '', productList:{}\n      }\n      let product = shopInfo.productList[productId]\n      if(!product) {\n        productInfo.count = 0\n        product = productInfo\n      }\n      product.count = product.count + payload.num\n      if(payload.num > 0) { product.check = true }\n      if(product.count < 0) { product.count = 0 }\n      shopInfo.productList[productId] = product\n      state.cartList[shopId] = shopInfo\n      setLocalCartList(state)\n    },\n    changeShopName(state, payload) {\n      const { shopId, shopName } = payload\n      const shopInfo = state.cartList[shopId] || {\n        shopName: '', productList:{}\n      }\n      shopInfo.shopName = shopName\n      state.cartList[shopId] = shopInfo\n      setLocalCartList(state)\n    },\n    changeCartItemChecked(state, payload) {\n      const { shopId, productId } = payload\n      const product = state.cartList[shopId].productList[productId]\n      product.check = !product.check\n      setLocalCartList(state)\n    },\n    cleanCartProducts(state, payload) {\n      const { shopId } = payload\n      state.cartList[shopId].productList = {}\n      setLocalCartList(state)\n    },\n    setCartItemsChecked(state, payload) {\n      const { shopId } = payload\n      const products = state.cartList[shopId].productList\n      if(products) {\n        for(let key in products) {\n          const product = products[key]\n          product.check = true\n        }\n      }\n      setLocalCartList(state)\n    },\n    clearCartData(state, shopId) {\n      state.cartList[shopId].productList = {}\n    },\n    changeAddressList(state, addressList) {\n      state.addressList.splice(0, state.addressList.length, ...addressList)\n    }\n  }\n})\n"]}]}